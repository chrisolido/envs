I followed most of the instrction in the below link to come up with the ansible playbook.

https://pseudoscripter.wordpress.com/2016/04/26/allow-remote-hosts-to-connect-to-postgresql-database-server-on-vagrant-box/